# Tìm hiểu về cách hoạt động của SSL
## 1. Mã hóa bất đối xứng  và mã hóa đối xứng
- Mã hóa bất đối xứng:
  - Sử dụng cặp khóa: Khóa công khai (public key) và khóa riêng tư (private key).
  - Dữ liệu được mã hóa bằng khóa công khai và chỉ có thể giải mã bằng khóa riêng tư và ngược lại
- Mã hóa đối xứng:
  - Sử dụng cùng một khóa để mã hóa và giải mã dữ liệu.
  - Hiệu suất cao vì quá trình mã hóa và giải mã đơn giản
  - Thích hợp cho việc mã hóa dữ liệu lớn.
## 2. Quy trình làm việc của SSL
![Alt](/thuctap/anh/Screenshot_736.png)
-  Bước 1: Client gửi một gói tin hello có chứa các thông tin phiên bản ssl của mình đến cho Server
- Bước 2: Server nhận được và phản hồi lại 1 gói tin hello trong đó có chứa public key và chứng chỉ CA đến cho Client
- Bước 3: Client sau khi nhận được chứng chỉ CA sẽ hỏi lại cơ quan CA xem chứng chỉ này có hợp lệ hay không
- Bước 4: Nếu hợp lệ thì Client sẽ tạo một session key(mã hóa đối xứng) và được mà hóa bằng public key đến cho Server
- Bước 5: sau khi Server nhận được gói tin và giải mã nó sẽ có được session key và bắt đầu từ đây nó sẽ dùng sesion key để giao tiếp với Client
## 3. Hướng dẫn thiết lập SSL cho Localhost
### 3.1 Yêu cầu cần có
- sử dụng openssl để sinh ra key
- sử dụng Nginx là webserver
- Phải có đủ: public key, private key, CA
### 3.2 Thực hành
- Ở đây máy mình đã tự động cài sẵn nginx và openssl rồi
- Tạo ra SSL Certificate
  - Tạo ra private key( CA.key)
  ```
  openssl genrsa -out CA.key 2048
  ```
  Tạo ra key bằng openss với tên CA.key với kích thước 2048 bit
  - Tạo ra file CA.pem
  ```
  openssl req -x509 -sha256 -new -nodes -days 3650 -key CA.key -out CA.pem
  ```
  Tạo mới key CA.pem từ CA.key với thời hạn là 3650 ngày 
  - Sau đó nó sẽ hỏi các thông tin cá nhân của bạn và bạn chỉ cần điền vào là xong
  ![Alt](/thuctap/anh/Screenshot_737.png)

- Tạo SSL Certificate Signing Request
  ```
    openssl genrsa -out localhost.key 2048
    openssl req -new -key localhost.key -out localhost.csr
  ```