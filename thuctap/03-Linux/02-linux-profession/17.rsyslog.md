# Tìm hiểu về Rsyslog
## 1. Rsyslog là gì
- RSyslog là một hệ thống quản lý log (log management system) phổ biến trên hệ điều hành Linux. Nó được sử dụng để thu thập, xử lý, và chuyển tiếp các thông điệp log từ nhiều nguồn khác nhau trong hệ thống.
- Tác dụng của Rsyslog
  - Thu thập Log từ nhiều nguồn khác nhau
  - Xử lý các log : Cho phép các loại log nào được lưu lại vào var/log
  - Chuyển tiếp log tới các máy khác để quản lý
  - Có rất nhiều module hỗ trợ
## 2. Mô hình hoạt động của các file rsyslog
- Rsyslog sẽ chia thành 4 nội dung chính
  - Các file chứa các tệp cấu hình của Rsyslog 
    - `/etc/rsyslog.conf` : Là file cấu hình 
    - `/etc/rsyslog.d` : Dùng để chứa các tệp cấu hình bổ xung
  - Các file chứa các thư viện ,modul hỗ trợ cho Rsyslog. Các file cấu hình sẽ sử dụng các modul này 
    - `/usr/lib64/rsyslog/`
    - `/usr/share/doc/rsyslog`
  - Các file lưu giữ nội dung log được rsyslog chuyển đến 
    - `/var/log`
  - Một vài file khác
## 3. Phân tích các nội dung các file
### 3.1 file cấu hình chính `/etc/rsyslog.conf`
```
cat `/etc/rsyslog.conf`
```
```
module(load="imuxsock"    # provides support for local system logging (e.g. via logger command)
       SysSock.Use="off") # Turn off message reception via local log socket;
                          # local messages are retrieved through imjournal now.
module(load="imjournal"             # provides access to the systemd journal
       StateFile="imjournal.state") # File to store the position in the journal
global(workDirectory="/var/lib/rsyslog")
module(load="builtin:omfile" Template="RSYSLOG_TraditionalFileFormat")
$RepeatedMsgReduction on
include(file="/etc/rsyslog.d/*.conf" mode="optional")
*.info;mail.none;authpriv.none;cron.none                /var/log/messages
authpriv.*                                              /var/log/secure
mail.*                                                  -/var/log/maillog
cron.*                                                  /var/log/cron
*.emerg                                                 :omusrmsg:*
uucp,news.crit                                          /var/log/spooler
local7.*                                                /var/log/boot.log
local6.*                                                /var/log/cmdlog.log

```