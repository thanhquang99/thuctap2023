- [cài đặt wordpress 1 node](#cài-đặt-wordpress-1-node)
  - [1. Chuẩn bị](#1-chuẩn-bị)
  - [2. Tiến hành cài đặt](#2-tiến-hành-cài-đặt)
    - [2.1 Cài đặt LAMP](#21-cài-đặt-lamp)
    - [2.2 Tạo cơ sở dữ liệu cho tài khoản Wordpress](#22-tạo-cơ-sở-dữ-liệu-cho-tài-khoản-wordpress)
    - [2.3 Tải và cài đặt WordPress](#23-tải-và-cài-đặt-wordpress)
    - [2.4 Cấu hình wordpress](#24-cấu-hình-wordpress)
    - [2.5 Hoàn tất phần giao diện](#25-hoàn-tất-phần-giao-diện)
- [Tài liệu tham khảo](#tài-liệu-tham-khảo)

# cài đặt wordpress 1 node
## 1. Chuẩn bị 
- Trước khi cài đặt WP, phải tiến hành bộ cài đặt LAMP trên máy server

- LAMP là phần nội dung thiết yếu khi máy muốn sử dụng làm web-server. Nhưng nó sẽ là các cục không thống nhất và để thống nhất hay quản trị được nó ta sử dụng wordpress

## 2. Tiến hành cài đặt
### 2.1 Cài đặt LAMP
- [Hướng dẫn cài đặt LAMP](https://github.com/thanhquang99/thuctap2023/blob/main/thuctap/linux-profession/03.LAMP.md)

### 2.2 Tạo cơ sở dữ liệu cho tài khoản Wordpress
- Tạo mật khẩu cho tài khoản root của dịch vụ maria db (nếu đã có bạn có thể bỏ qua bước này)
    ```
    cat << EOF |cat << EOF |sudo mysql -uroot
    GRANT ALL PRIVILEGES ON *.* TO 'root'@'localhost' IDENTIFIED BY 'Khuongquang99' WITH GRANT OPTION ;FLUSH PRIVILEGES;
    EOF
    ```
- Tạo cơ sở dữ liệu và thiết lập tài khoản quản lý cơ sở dữ liệu đó cho wordpress

    ```
    mysql -uroot -pKhuongquang99 -e "CREATE DATABASE wordpress;
	CREATE USER thanhquang@localhost IDENTIFIED BY 'Khuongquang99';
	GRANT ALL PRIVILEGES ON wordpress.* TO thanhquang@localhost IDENTIFIED BY 'Khuongquang99';
	FLUSH PRIVILEGES;"
    ```

`Lưu ý`: không nên có ký tự `@` trong passwd

    ![Alt](/thuctap/anh/Screenshot_539.png)

### 2.3 Tải và cài đặt WordPress

- Cài gói hỗ trợ php-gd:

```
yum -y install php-gd
```
- Cài gói tải xuống wget Tiến hành tải xuống Wordpress với phiên bản mới nhất(bạn cần lưu ý bạn đang thư mục nào thì wp sẽ tải về chỗ đó.ta xem đường dẫn bằng `pwd`)

```
wget http://wordpress.org/latest.tar.gz
```

- Giải nén file

```
tar xvfz latest.tar.gz
```

- Copy các file trong thư mục trong WordPress tới đường dẫn /var/www/html. Dấu `*` có ý nghĩa là tất cả những file bên trong

```
cp -Rvf [đường dẫn file wp]/* /var/www/html
```
### 2.4 Cấu hình wordpress

- file cấu hình của wordpress là `wp-config.php` .Nhưng do chỉ có file `wp-config-sample.php` ta tiến hành copy ra file mới

```
cp wp-config-sample.php wp-config.php
```
- Chỉnh sửa file cấu hình theo user và passwd ta đã tạo ở MySQL trước đó

```
sed -i 's/username_here/[user-name]/g' /var/www/html/wp-config.php
sed -i 's/database_name_here/[name-database]/g' /var/www/html/wp-config.php
sed -i 's/password_here/[passwd]/g' /var/www/html/wp-config.php
```
Nếu không lệnh không thực hiện được ta có thể dùng quyền sudo để tạo

- Phân quyền:

```
chmod -R 755 /var/www/*
chown -R apache:apache /var/www/*
```

- Khỏi động lại httpd

```
systemctl restart httpd
```

### 2.5 Hoàn tất phần giao diện

- Trên trình duyệt, gõ địa chỉ IP server trên thanh url, trình duyệt sẽ xuất hiện như sau:

# Tài liệu tham khảo
https://github.com/huydv398/Linux-tutorial/blob/master/CentOS-7/WP-1node.md

https://github.com/thanhquang99/thuctap/blob/master/bash_script/scriptcaidatwpub.md